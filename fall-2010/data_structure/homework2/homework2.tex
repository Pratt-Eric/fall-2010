\documentclass{article}
% Change "article" to "report" to get rid of page number on title page
\usepackage{amsmath,amsfonts,amsthm,amssymb}
\usepackage{algorithmic,algorithm}
\usepackage{setspace}
\usepackage{Tabbing}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{extramarks}
\usepackage{chngpage}
\usepackage{soul,color}
\usepackage{ulem}
\usepackage{graphicx,float,wrapfig}
\usepackage{pifont}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{pstricks,pst-node,pst-tree}
\usepackage{pdftricks}
\usepackage{subfigure}
\usepackage{multicol}
\usepackage{enumerate}

\usepackage{listings}
\usepackage{color}
\usepackage{textcomp}
\definecolor{listinggray}{gray}{0.9}
\definecolor{lbcolor}{rgb}{0.9,0.9,0.9}
\lstset{
	%backgroundcolor=\color{lbcolor},
	tabsize=4,
	rulecolor=,
	language=c++,
        basicstyle=\setstretch{1},
        upquote=true,
        aboveskip={\baselineskip},
        columns=fixed,
        showstringspaces=false,
        extendedchars=true,
        breaklines=true,
        prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
        %frame=single,
        showtabs=false,
        showspaces=false,
        showstringspaces=false,
        identifierstyle=\ttfamily,
        keywordstyle=\color[rgb]{0,0,1},
        commentstyle=\color[rgb]{0.133,0.545,0.133},
        stringstyle=\color[rgb]{0.627,0.126,0.941},
}
% In case you need to adjust margins:
\topmargin=-0.45in      %
\evensidemargin=0in     %
\oddsidemargin=0in      %
\textwidth=7.0in        %
\textheight=9.2in       %
\headsep=0.25in         %

% Homework Specific Information
\newcommand{\hmwkTitle}{Homework\ \#2}
\newcommand{\hmwkDueDate}{Oct.\ 12th,\ 2010}
\newcommand{\hmwkClass}{Data Structure}
\newcommand{\hmwkClassTime}{TR\ 4:10-5:25pm}
\newcommand{\hmwkClassInstructor}{Meilin\ Liu}
\newcommand{\hmwkAuthorName}{Shumin\ Guo}
\newcommand{\answer}{\textbf{\\\underline{ANSWER:}\\}}

% Setup the header and footer
\pagestyle{fancy}                                                       %
\lhead{\hmwkAuthorName}                                                 %
\chead{\hmwkClass\ - \hmwkTitle}  %
\rhead{Page\ \thepage\ of\ \pageref{LastPage}}                          %
\lfoot{\lastxmark}                                                      %
\cfoot{}                                                                %
\rfoot{}                          %
\renewcommand\headrulewidth{0.4pt}                                      %
%\renewcommand\footrulewidth{0.2pt}                                     %

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Make title
\title{\textmd{\textbf{\hmwkClass:\
      \hmwkTitle}}\\\normalsize\small{Due\ Date:\
    \hmwkDueDate}\\} 
\date{\today}
\author{\textbf{\hmwkAuthorName}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\maketitle

\begin{enumerate}
\item(10 points) Describe in pseudo-code, a linear-time algorithm for
reversing a queue Q. To access the queue, you are only allowed to use
the basic functions of the queue ADT defined as follows (Hint: Using a
stack, the basic stack functions defined in the textbook and in the
class). 

\begin{lstlisting}
class Queue {
public:
    int size();
    bool isEmpty();
    Object& front()
    void enqueue(Object o);
    Object dequeue()
};
\end{lstlisting}

\begin{multicols}{2}
  \setlength{\columnseprule}{1pt}
  \textsc{\large{\uuline{Pseudocode With Queue}}}
    \begin{algorithmic}[1]
      \STATE{\textbf{Input:}Queue with length N($N \geq 0$).}
      \STATE{\textbf{Output:}Reversed Queue.}
      \STATE $x\leftarrow N$
      \WHILE{$x > 0$}
      \STATE $X \leftarrow Queue.dequeue()$
      \STATE $Queue.enqueue(X)$
      \STATE $x \leftarrow x - 1$
      \ENDWHILE
    \end{algorithmic}
    \vspace{70pt}
    \textsc{\large{\uuline{Pseudocode With Stack}}}
    \begin{algorithmic}[1]
      \STATE{\textbf{Input:}Queue with length N($N \geq 0$).}
      \STATE{\textbf{Output:}Reversed Queue.}
      \STATE $x\leftarrow N$
      \WHILE{$x > 0$}
      \STATE $X \leftarrow Queue.dequeue()$
      \STATE $Stack.Push(X)$
      \STATE $x \leftarrow x - 1$
      \ENDWHILE
      \STATE $x\leftarrow N$
      \WHILE{$x > 0$}
      \STATE $X \leftarrow Stack.Pop()$
      \STATE $Queue.enqueue(X)$
      \STATE $x \leftarrow x - 1$
      \ENDWHILE
    \end{algorithmic}
\end{multicols}

\setcounter{figure}{0}          %set the figure counter to zero.
\item(20 points) Let T be the binary tree as shown in the following
figure. (See Figure ~\ref{fig:question2})
\begin{enumerate}[(a)]
\item Give the output of the preorder tree traversal of T. \fbox{A
  B G H E C F}
\item Give the output of the postorder tree traversal of
  T. \fbox{G H D E B F C A}
\item Give the output of the inorder tree traversal of T. \fbox{G
    D H B E A F C}
\item Give the output of the level order tree traversal of
  T. \fbox{A B C D E F G H}
\end{enumerate}

\begin{figure}[H]
  \vspace{-10pt}
  \begin{center}
    \pstree[levelsep=5ex]{\Tcircle{A}}{
      \pstree{ \Tcircle{B}\tvput{} }{
        \pstree{\Tcircle{D}\tlput{}}{
          \Tcircle{G}
          \Tcircle{H}
        }
        \Tcircle{E}\trput{}
      }
      \pstree{\Tcircle{C}}{
        \Tcircle{F}\Tn
      }
    }
    \caption{Tree Struture for Question Two.\label{fig:question2}}
    \vspace{-10pt}
  \end{center}
\end{figure}

\item(10 points) Draw a (single) binary tree T, such that
\begin{enumerate}[(a)]
\item Each internal node of T stores a single character
\item A preorder traversal of T yields A B C D F G E
\item An inorder traversal of T yields C B F D G A E 
\hspace{1em}\fbox{See Result in Figure ~\ref{fig:question3}}
\end{enumerate}
\begin{figure}[H]
  \vspace{-10pt}
  \begin{center}
    \pstree[levelsep=5ex]{\Tcircle{A} }{
      \pstree{ \Tcircle{B}}{ % level - 1
        \Tcircle{C}
        \pstree{\Tcircle{D}} {
          \Tcircle{F}
          \Tcircle{G}
        }
      }
      \Tcircle{F}               % level - 1 
    }
    \caption{Binary Tree.\label{fig:question3}}
    \vspace{-15pt}
  \end{center}
\end{figure}

\item(10 points) Let T be the tree as shown in the following figure
\fbox{See Figure \ref{fig:question4}}

\begin{figure}[H]
  \begin{center}
    \pstree[levelsep=5ex]{\Tr{\psframebox[framearc=.5]{A}}}{
      \pstree{ \Tr{\psframebox[framearc=.5]{B}}\tvput{} }{
        \Tr{\psframebox[framearc=.5]{E}}
        \pstree{\Tr{\psframebox[framearc=.5]{F}}\tlput{}} {
          \Tr{\psframebox[framearc=.5]{I}}
          \Tr{\psframebox[framearc=.5]{J}}
        }
      }
      \pstree{\Tr{\psframebox[framearc=.5]{C}}}{
        \Tr{\psframebox[framearc=.5]{G}}
        \Tr{\psframebox[framearc=.5]{H}}
      }
      \Tr{\psframebox[framearc=.5]{D}}
    }
    \caption{Tree Struture for Question Four.\label{fig:question4}}
    \vspace{-15pt}
  \end{center}
\end{figure}
\begin{enumerate}[(a)]
\item Give the output of the preorder tree traversal of
  T. \fbox{A B E F I J C G H D} 
\item Give the output of the postorder tree traversal of
  T. \fbox{E I J F B G H C D A} 
\end{enumerate}

\item(20 points) Answer the following questions (This question is for
graduate students only, but undergraduate students are welcome to
finish this question to get bonus points). 
\begin{enumerate}[(a)]
\item What is the minimum height h of a binary tree with n nodes.
\fbox{$log_2(n)$}
\item What is the maximum height h of a binary tree with n nodes.
\fbox{n-1}
\end{enumerate}

\item(20 points) Answer the following questions (This question is for
graduate students only, but undergraduate students are welcome to
finish this question to get bonus points).
\begin{enumerate}[(a)]
\item What is the minimum number of external nodes for a full
  binary tree (proper binary tree) with height h? Justify your answer.\\
  \answer In order to get a minimum number of external(leaf) nodes, we
    need to assign as many nodes as possible to be as internal nodes,
    but for a proper binary tree, a node either have zero or two
    children. So we can try to build a tree whose deepest nodes are
    two external nodes and for other levels there is only one external
    node for each level. The prototype of this kind of tree is shown
    in the picture below. And we can easily calculate the minimum
    number of external nodes to be $h+1$. \fbox{Please see
      Figure~\ref{fig:int_ext}~for a sample tree.} \\
    \begin{figure}[H]
      \begin{center}
        \psset{fillstyle=solid}
        \pstree[levelsep=5ex]{\Tcircle[fillcolor=gray]{I}}{
          \pstree{\Tcircle[fillcolor=gray]{I}}{
            \pstree{\Tcircle[fillcolor=gray]{I}}{
              \pstree{\Tcircle[fillcolor=gray]{I}}{
                \pstree{\Tcircle[fillcolor=gray]{I}}{
                  \Tcircle{E}
                  \Tcircle{E}
                }
                \Tcircle{E}
              }          
              \Tcircle{E}
            }
            \Tcircle{E}
          }
          \Tcircle{E}
        }
        \caption{Tree structure for minimum number of external
          node.\label{fig:int_ext}} 
        \vspace{-15pt}
        \end{center}
      \end{figure}

\item What is the maximum number of external nodes for a full
  binary tree (proper binary tree) with height h? Justify your
  answer. 
  \answer A proper binary tree with height h will have the maximum
  number of external nodes if this tree becomes a perfect tree. This
  means for level l of this tree it will have $2^l$ nodes in this
  level and for level h(the height), we will have $2^h$ nodes, which
  are all external nodes. 

\item Let T be a full binary tree (proper binary tree) with height
  h and n nodes, Show that $log_2(n+1)-1 \leq h\leq \frac{n-1}{2}$. 
  \answer According to the answers of the above two questions, we know
  that for a proper binary tree, the height $h$ will be the highest if
  there are minimum number of external nodes($en=h+1$ where the
  number of internal nodes will be $in=h$) and $h$ will be the
  lowest when there are maximum number of external nodes($en=2^h$ and
  at this time the number of internal nodes is $in=2^h-1$). \\
  And according to the above description, we can get the relationship
  between the height of tree and the total number of nodes as follows:
  
  Maximum height: $n=h+h+1=2h+1 \Rightarrow h = \frac{n-1}{2}$ \\
  Minimum height: $n=2^h+2^h-1 \Rightarrow h=log_2(n+1)-1$ \\
  To Sum up, we have: $log_2(n+1)-1\leq h \leq \frac{n-1}{2}$.\\ 
  Done. \\

\item For which values of n and h can the above lower and upper
  bounds on h be attained with equality?
\answer When $n=2h+1$ the upper bound can attain equality. \\
When $n=2^{h+1}-1$ the lower bound can attain equality. 
\end{enumerate}

\item(10points) For the set of $\{ 2, 6, 10, 9, 4, 1, 13\}$ of keys, draw
binary search trees of height 2, 3, 4, 5, and 6. \fbox{See Result on
  Figure ~\ref{fig:question7}.}
\begin{figure}[H]
  \vspace{-10pt}
  \begin{center} 
    \subfigure[height=2]{
      \label{fig:height2}
      \pstree[levelsep=5ex,treesep=2ex]{\Tcircle{6} }{
        \pstree{ \Tcircle{2}}{
          \Tcircle{1}
          \Tcircle{4}
        }
        \pstree{\Tcircle{10}} {
          \Tcircle{9}
          \Tcircle{13}        
        }
      }
    }
    \subfigure[height=3]{
      \label{fig:height3}
      \pstree[levelsep=5ex,treesep=2ex]{\Tcircle{6} }{
        \pstree{\Tcircle{4}}{
          \pstree{\Tcircle{2}}{
            \Tcircle{1}\Tn
          }\Tn
        }
        \pstree{ \Tcircle{9}}{
          \Tn\pstree{\Tcircle{10}}{
            \Tn\Tcircle{13}
          }
        }
      }
    }
    \subfigure[height=4]{
      \label{fig:height4}
      \pstree[levelsep=5ex,treesep=2ex]{\Tcircle{9} }{
        \pstree{\Tcircle{6}}{
          \pstree{\Tcircle{4}}{
            \pstree{\Tcircle{2}}{
              \Tcircle{1}\Tn
            }\Tn
          }\Tn
        }
        \pstree{\Tcircle{10}}{
          \Tn\Tcircle{13}
        }
      }
    }
    \subfigure[height=5]{
      \label{fig:height5}
      \pstree[levelsep=5ex,treesep=2ex]{\Tcircle{10} }{
        \pstree{\Tcircle{9}}{
          \pstree{\Tcircle{6}}{
            \pstree{\Tcircle{4}}{
              \pstree{\Tcircle{2}}{
                \Tcircle{1}\Tn
              }\Tn
            }\Tn
          }\Tn
        }
        \Tn\Tcircle{13}
      }
    }
    \subfigure[height=6]{
      \label{fig:height6}
      \pstree[levelsep=5ex,treesep=2ex]{\Tcircle{13} }{
        \pstree{\Tcircle{10}}{
          \pstree{\Tcircle{9}}{
            \pstree{\Tcircle{6}}{
              \pstree{\Tcircle{4}}{
                \pstree{\Tcircle{2}}{
                  \Tcircle{1}\Tn
                }\Tn
              }\Tn
            }\Tn
          }\Tn
        }\Tn
      }
    }
    \caption{BST with different depth.\label{fig:question7}}
    \vspace{-15pt}
  \end{center}
\end{figure}


\item(15 points) Consider the Binary Search Tree (BST) to the following.
\begin{enumerate}[(a)]
\item (5 points)  Draw a circle around each node that would be visited in
a search for the value 40. \\
\fbox{Please see Figure \ref{fig:bst_visit}.}

\begin{figure}[H]
  \begin{center}
    \psset{fillstyle=solid}
    \pstree[levelsep=5ex]{\Tcircle[doubleline=true,fillcolor=gray]{50}}{ 
      \pstree{ \Tcircle[doubleline=true,fillcolor=gray]{35}}{
        \pstree{\Tcircle{23}} {
          \pstree{\Tcircle{12}} {
            \Tcircle{5}
            \Tcircle{15}
        }          
          \Tcircle{30}
        }
        \pstree{\Tcircle[doubleline=true,fillcolor=gray]{42}} {
          \Tcircle[doubleline=true,fillcolor=gray]{39}
          \Tcircle{48}
        }
      }
      \pstree{\Tcircle{58}}{
        \pstree{\Tcircle{52}} {
          \Tcircle{51}
          \Tcircle{55}
        }
        \pstree{\Tcircle{73}} {
          \Tcircle{65}
          \Tcircle{89}
        }
      }
    }
    \caption{Tree Struture for Question Seven(a).\label{fig:bst_visit}}
    \vspace{-15pt}
  \end{center}
\end{figure}

\item (10 points)  Show how the tree would appear if the value 35 were
deleted. Assuming duplicates are stored in the left subtree. 
\answer In order to conform to the property of binary search tree, I
picked node 30 to replace the delete node 35. Because node 30 is the
largest node on the left subtree. \fbox{See Figure \ref{fig:bst_delete}.}
\begin{figure}[H]
  \begin{center}
    \pstree[levelsep=5ex]{\Tcircle{50} }{
      \pstree{ \Tcircle{30}}{
        \pstree{\Tcircle{23}} {
          \pstree{\Tcircle{12}} {
            \Tcircle{5}
            \Tcircle{15}
          }\Tn     
        }
        \pstree{\Tcircle{42}} {
          \Tcircle{39}
          \Tcircle{48}
        }
      }
      \pstree{\Tcircle{58}}{
        \pstree{\Tcircle{52}} {
          \Tcircle{51}
          \Tcircle{55}
        }
        \pstree{\Tcircle{73}} {
          \Tcircle{65}
          \Tcircle{89}
        }
      }
    }
    \caption{Tree Struture for Question Seven(b).\label{fig:bst_delete}}
    \vspace{-15pt}
  \end{center}
\end{figure}
\end{enumerate}

\item(10points). Suppose that myBST is an empty Binary Search Tree. The
following operations are performed in the given order. Draw the
resulting tree.  Assuming duplicates are inserted in the left subtree. \\
myBST.insert(20) \\
myBST.insert(28) \\
myBST.insert(40) \\
myBST.insert(12) \\
myBST.insert(25) \\
myBST.insert(23) \\
myBST.insert(24) \\
myBST.insert(16) \\
myBST.delete(23) \\
myBST.insert(24) \\
\fbox{Please See Figure \ref{fig:insert}.} \\
\begin{figure}[H]
  \vspace{-15pt}
  \begin{center}
    \def\dedge{\ncline[linestyle=dashed]}
    \pstree[levelsep=5ex]{\Tcircle{20} }{
      \pstree{\Tcircle{12}}{
        \Tn\Tcircle{16}
      }
      \pstree{\Tcircle{28}}{
        \pstree{\Tcircle{25}} {
          \pstree{\Tcircle{23}} {
            \Tcircle[linestyle=dashed,edge=\dedge,
            fillstyle=solid,fillcolor=lightgray]{23}
            \pstree{\Tcircle{24}}{
              \Tcircle{24}\Tn
            }
          }\Tn
        }
        \Tcircle{40}
      }
    }
    \caption{BST structure after insert.\label{fig:insert}}
    \vspace{-15pt}
  \end{center}
\end{figure}

\item(20 Points). Suppose you are given the following array, which
represents a complete binary tree:
\begin{table}[h]
  \begin{center}
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|} 
      \hline Index &0&1&2&3&4&5&6&7&8&9&10&11&12&13&14&15&16 \\
      \hline Key&12&25&72&49&64&58&52&92&8&19&43&27&98&16&37&33&6\\
      \hline
    \end{tabular}
    \caption{Array Representation of a Binary Tree.} 
    \vspace{-15pt}
  \end{center}
\end{table}
\begin{enumerate}[(a)]
\item (5 points) Draw the complete binary tree represented by this
array. 
\fbox{Please See Figure \ref{fig:complete_tree}} \\
\begin{figure}[H]
  \vspace{-10pt}
  \begin{center}
    \pstree[levelsep=8ex]{\Tcircle{0/12} }{
      \pstree{ \Tcircle{1/25}}{
        \pstree{\Tcircle{3/49}} {
          \pstree{\Tcircle{7/92}}{
            \Tcircle{15/33}
            \Tcircle{16/6}
          }
          \Tcircle{8/8}
        }
        \pstree{\Tcircle{4/64}} {
          \Tcircle{9/19}
          \Tcircle{10/43}
        }
      }
      \pstree{\Tcircle{2/72}}{
        \pstree{\Tcircle{5/58}} {
          \Tcircle{11/27}
          \Tcircle{12/98}
        }
        \pstree{\Tcircle{6/52}} {
          \Tcircle{13/16}
          \Tcircle{14/37}
        }
      }
    }
    \caption{Complete Binary Tree Representation of
      List.\label{fig:complete_tree}} 
    \vspace{-15pt}
  \end{center}
\end{figure}

\item (10 Points) Is this binary tree a binary heap? If not, build a heap
out of this array using the BottomUpHeap() we learned in the class. 
\fbox{No, this is not a binary heap.}

\item (5 Points) List the values from the heap as they would be printed
out by an inorder traversal of the heap, where the \textbf{visit()} function
prints the value of the current node. 

\end{enumerate}
\end{enumerate}                 %the whole doc
\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
